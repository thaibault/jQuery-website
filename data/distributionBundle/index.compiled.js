'use strict';
!function(o,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require('jQuery-scrollTo'),require('jQuery-spin'),require("clientnode"),require("internationalisation")):"function"==typeof define&&define.amd?define("website-utilities",["$.fn.scrollTo","$.fn.spin","clientnode","internationalisation"],t):"object"==typeof exports?exports["website-utilities"]=t(require('jQuery-scrollTo'),require('jQuery-spin'),require("clientnode"),require("internationalisation")):o["website-utilities"]=t(o["$.fn.scrollTo"],o["$.fn.spin"],o.clientnode,o.internationalisation)}(this,function(o,t,e,n){return function(o){function t(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:!1};return o[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var e={};return t.m=o,t.c=e,t.p="",t(0)}([function(o,t,e){e(2),o.exports=e(1)},function(o,t,e){"use strict";function n(o){return o&&o.__esModule?o:{"default":o}}function i(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function s(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}function a(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.$=void 0;var r=function(){function o(o,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}}(),l=function h(o,t,e){null===o&&(o=Function.prototype);var n=Object.getOwnPropertyDescriptor(o,t);if(void 0===n){var i=Object.getPrototypeOf(o);if(null===i)return;return h(i,t,e)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(e)},c=e(5),d=e(6);n(d);e(3),e(4);var u=t.$=c.$,p=function(o){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,o),r(t,[{key:"initialize",value:function(){var o=this,e=0>=arguments.length||void 0===arguments[0]?{}:arguments[0],n=1>=arguments.length||void 0===arguments[1]?{activateLanguageSupport:!0,additionalPageLoadingTimeInMilliseconds:0,domain:"auto",domNode:{mediaQueryIndicator:'<div class="media-query-indicator">',top:"> div.navbar-wrapper",scrollToTopButton:'a[href="#top"]',startUpAnimationClassPrefix:".website-start-up-animation-number-",windowLoadingCover:"div.website-window-loading-cover",windowLoadingSpinner:"div.website-window-loading-cover > div"},domNodeSelectorPrefix:"body.{1}",knownScrollEventNames:"scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",language:{},mediaQueryClassNameIndicator:[["extraSmall","xs"],["small","sm"],["medium","md"],["large","lg"]],onViewportMovesToTop:t.noop,onViewportMovesAwayFromTop:t.noop,onChangeToLargeMode:t.noop,onChangeToMediumMode:t.noop,onChangeToSmallMode:t.noop,onChangeToExtraSmallMode:t.noop,onChangeMediaQueryMode:t.noop,onSwitchSection:t.noop,onStartUpAnimationComplete:t.noop,startUpAnimationElementDelayInMiliseconds:100,startUpShowAnimation:[{opacity:1},{}],startUpHide:{opacity:0},switchToManualScrollingIndicator:function(o){return 0<o.which||"mousedown"===o.type||"mousewheel"===o.type||"touchmove"===o.type},scrollToTop:{inLinearTime:!0,options:{duration:"normal"},button:{slideDistanceInPixel:30,showAnimation:{duration:"normal"},hideAnimation:{duration:"normal"}}},trackingCode:null,windowLoadingCoverHideAnimation:[{opacity:0},{}],windowLoadingSpinner:{lines:9,length:23,width:11,radius:40,corners:1,rotate:75,color:"#000",speed:1.1,trail:58,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},windowLoadedTimeoutAfterDocumentLoadedInMilliseconds:2e3}:arguments[1],i=!(2>=arguments.length||void 0===arguments[2])&&arguments[2],s=3>=arguments.length||void 0===arguments[3]?null:arguments[3],a=!(4>=arguments.length||void 0===arguments[4])&&arguments[4],r=5>=arguments.length||void 0===arguments[5]?"":arguments[5],c=6>=arguments.length||void 0===arguments[6]?null:arguments[6],d=7>=arguments.length||void 0===arguments[7]?{initial:"\n                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new window.Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');window.ga('create', '{1}', '{2}');\n                window.ga('set', 'anonymizeIp', true);\n                window.ga('send', 'pageview', {page: '{3}'});\n            ",sectionSwitch:"window.ga('send', 'pageview', {page: '{1}'});",event:"window.ga(\n                'send', 'event', eventCategory, eventAction, eventLabel,\n                eventValue, eventData);\n            "}:arguments[7];return this._parentOptions=n,this.startUpAnimationIsComplete=i,this.viewportIsOnTop=a,this.currentMediaQueryMode=r,this.languageHandler=c,this._analyticsCode=d,s?this.currentSectionName=s:"location"in u.global&&u.global.location.hash?this.currentSectionName=u.global.location.hash.substring("#".length):this.currenSectionName="home",this._onViewportMovesToTop=this.constructor.debounce(this.getMethod(this._onViewportMovesToTop)),this._onViewportMovesAwayFromTop=this.constructor.debounce(this.getMethod(this._onViewportMovesAwayFromTop)),this._options=this.constructor.extendObject(!0,{},this._parentOptions,this._options),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this,e),this.$domNodes=this.grabDomNode(this._options.domNode),this.disableScrolling()._options.windowLoadingCoverHideAnimation[1].always=this.getMethod(this._handleStartUpEffects),this.$domNodes.windowLoadingSpinner.spin(this._options.windowLoadingSpinner),this._bindScrollEvents().$domNodes.parent.show(),"window"in this.$domNodes&&function(){var t=function(){o.windowLoaded||(o.windowLoaded=!0,o._removeLoadingCover())};u(function(){return setTimeout(t,o._options.windowLoadedTimeoutAfterDocumentLoadedInMilliseconds)}),o.on(o.$domNodes.window,"load",t)}(),this._addNavigationEvents()._addMediaQueryChangeEvents()._triggerWindowResizeEvents()._handleAnalyticsInitialisation(),this._options.language.logging||(this._options.language.logging=this._options.logging),this._options.activateLanguageSupport&&!this.languageHandler&&(this.languageHandler=u.Language(this._options.language)),this}},{key:"disableScrolling",value:function(){return this.$domNodes.parent.addClass("disable-scrolling").on("touchmove",function(o){return o.preventDefault()}),this}},{key:"enableScrolling",value:function(){return this.off(this.$domNodes.parent.removeClass("disable-scrolling","touchmove")),this}},{key:"triggerAnalyticsEvent",value:function(){if(this._options.trackingCode&&"__none__"!==this._options.trackingCode&&"location"in u.global&&"localhost"!==u.global.location.hostname){this.debug('Run analytics code: "#{this._analyticsCode.event}" with arguments:'),this.debug(arguments);try{new Function("eventCategory","eventAction","eventLabel","eventData","eventValue",this._analyticsCode.event).apply(this,arguments)}catch(o){this.warn("Problem in google analytics event code snippet: {1}",o)}}return this}},{key:"_onViewportMovesToTop",value:function(){var o=this;return"hidden"===this.$domNodes.scrollToTopButton.css("visibility")?this.$domNodes.scrollToTopButton.css("opacity",0):(this._options.scrollToTop.button.hideAnimation.always=function(){return o.$domNodes.scrollToTopButton.css({bottom:"-="+o._options.scrollToTop.button.slideDistanceInPixel,display:"none"})},this.$domNodes.scrollToTopButton.finish().animate({bottom:"+="+this._options.scrollToTop.button.slideDistanceInPixel,opacity:0},this._options.scrollToTop.button.hideAnimation)),this}},{key:"_onViewportMovesAwayFromTop",value:function(){return"hidden"===this.$domNodes.scrollToTopButton.css("visibility")?this.$domNodes.scrollToTopButton.css("opacity",1):this.$domNodes.scrollToTopButton.finish().css({bottom:"+="+this._options.scrollToTop.button.slideDistanceInPixel,display:"block",opacity:0}).animate({bottom:"-="+this._options.scrollToTop.button.slideDistanceInPixel,queue:!1,opacity:1},this._options.scrollToTop.button.showAnimation),this}},{key:"_onChangeMediaQueryMode",value:function(o,t){return this}},{key:"_onChangeToLargeMode",value:function(o,t){return this}},{key:"_onChangeToMediumMode",value:function(o,t){return this}},{key:"_onChangeToSmallMode",value:function(o,t){return this}},{key:"_onChangeToExtraSmallMode",value:function(o,t){return this}},{key:"_onSwitchSection",value:function(o){if(this._options.trackingCode&&"__none__"!==this._options.trackingCode&&"location"in u.global&&"localhost"!==u.global.location.hostname&&this.currentSectionName!==o){this.currentSectionName=o,this.debug('Run analytics code: "'+this._analyticsCode.sectionSwitch+'"',this.currentSectionName);try{new Function(this.constructor.stringFormat(this._analyticsCode.sectionSwitch,this.currentSectionName))()}catch(t){this.warn("Problem in analytics section switch code snippet: {1}",t)}}return this}},{key:"_onStartUpAnimationComplete",value:function(){return this.startUpAnimationIsComplete=!0,this}},{key:"_addMediaQueryChangeEvents",value:function(){return this.on(this.$domNodes.window,"resize",this.getMethod(this._triggerWindowResizeEvents)),this}},{key:"_triggerWindowResizeEvents",value:function(){var o=!0,t=!1,e=void 0;try{for(var n,i=this._options.mediaQueryClassNameIndicator[Symbol.iterator]();!(o=(n=i.next()).done);o=!0){var s=n.value;this.$domNodes.mediaQueryIndicator.prependTo(this.$domNodes.parent).addClass("hidden-"+s[1]),this.$domNodes.mediaQueryIndicator.is(":hidden")&&s[0]!==this.currentMediaQueryMode&&(this.fireEvent.apply(this,["changeMediaQueryMode",!1,this,this.currentMediaQueryMode,s[0]].concat(this.constructor.arrayMake(arguments))),this.fireEvent.apply(this,[this.constructor.stringFormat("changeTo{1}Mode",this.constructor.stringCapitalize(s[0])),!1,this,this.currentMediaQueryMode,s[0]].concat(this.constructor.arrayMake(arguments))),this.currentMediaQueryMode=s[0]),this.$domNodes.mediaQueryIndicator.removeClass("hidden-"+s[1])}}catch(a){t=!0,e=a}finally{try{!o&&i["return"]&&i["return"]()}finally{if(t)throw e}}return this}},{key:"_bindScrollEvents",value:function(){var o=this,t=arguments;if(!("window"in this.$domNodes))return this;var e=u("body, html").add(this.$domNodes.window);return e.on(this._options.knownScrollEventNames,function(t){o._options.switchToManualScrollingIndicator(t)&&e.stop(!0)}),this.on(this.$domNodes.window,"scroll",function(){o.$domNodes.window.scrollTop()?o.viewportIsOnTop&&(o.viewportIsOnTop=!1,o.fireEvent.apply(o,["viewportMovesAwayFromTop",!1,o].concat(o.constructor.arrayMake(t)))):!o.viewportIsOnTop&&(o.viewportIsOnTop=!0,o.fireEvent.apply(o,["viewportMovesToTop",!1,o].concat(o.constructor.arrayMake(t))))}),this.$domNodes.window.scrollTop()?(this.viewportIsOnTop=!1,this.fireEvent.apply(this,["viewportMovesAwayFromTop",!1,this].concat(this.constructor.arrayMake(arguments)))):(this.viewportIsOnTop=!0,this.fireEvent.apply(this,["viewportMovesToTop",!1,this].concat(this.constructor.arrayMake(arguments)))),this}},{key:"_removeLoadingCover",value:function(){var o=this;return setTimeout(function(){u(o.constructor.stringFormat('[class^="{1}"], [class*=" {1}"]',o.sliceDomNodeSelectorPrefix(o._options.domNode.startUpAnimationClassPrefix).substr(1))).css(o._options.startUpHide),o.$domNodes.windowLoadingCover.length?o.enableScrolling().$domNodes.windowLoadingCover.animate.apply(o.$domNodes.windowLoadingCover,o._options.windowLoadingCoverHideAnimation):o._options.windowLoadingCoverHideAnimation[1].always()},this._options.additionalPageLoadingTimeInMilliseconds),this}},{key:"_handleStartUpEffects",value:function(o){var t=this;return this.$domNodes.windowLoadingCover.hide(),this.$domNodes.windowLoadingSpinner.spin(!1),this.constructor.isNumeric(o)||(o=1),u(this.constructor.stringFormat('[class^="{1}"], [class*=" {1}"]',this.sliceDomNodeSelectorPrefix(this._options.domNode.startUpAnimationClassPrefix).substr(1))).length?setTimeout(function(){var e=!1;t._options.startUpShowAnimation[1].always=function(){e&&t.fireEvent("startUpAnimationComplete")};var n=u(t._options.domNode.startUpAnimationClassPrefix+o);n.animate.apply(n,t._options.startUpShowAnimation),u(t._options.domNode.startUpAnimationClassPrefix+(o+1)).length?t._handleStartUpEffects(o+1):e=!0},this._options.startUpAnimationElementDelayInMiliseconds):this.fireEvent("startUpAnimationComplete"),this}},{key:"_addNavigationEvents",value:function(){var o=this;return"addEventListener"in u.global&&u.global.addEventListener("hashchange",function(){o.startUpAnimationIsComplete&&o.fireEvent("switchSection",!1,o,location.hash.substring("#".length))},!1),this._handleScrollToTopButton()}},{key:"_handleScrollToTopButton",value:function(){var o=this;return this.on(this.$domNodes.scrollToTopButton,"click",function(t){t.preventDefault(),o._scrollToTop()}),this}},{key:"_scrollToTop",value:function(){var o=0>=arguments.length||void 0===arguments[0]?t.noop:arguments[0];if(!("document"in u.global))return this;if(this._options.scrollToTop.options.onAfter=o,Object.defineProperty(u.global.document,"body",{value:u("body")[0]}),this._options.scrollToTop.inLinearTime){var e=this.$domNodes.window.scrollTop();this._options.scrollToTop.options.duration=e/4,this.$domNodes.window.scrollTo({top:"-="+e,left:"+=0"},this._options.scrollToTop.options)}else u(window).scrollTo({top:0,left:0},this._options.scrollToTop.options);return this}},{key:"_handleAnalyticsInitialisation",value:function(){var o=this;if(this._options.trackingCode&&"__none__"!==this._options.trackingCode&&"location"in u.global&&"localhost"!==u.global.location.hostname){this.debug('Run analytics code: "'+this._analyticsCode.initial+'"',this._options.trackingCode,this._options.domain,this.currentSectionName);try{new Function(this.constructor.stringFormat(this._analyticsCode.initial,this._options.trackingCode,this._options.domain,this.currentSectionName))()}catch(t){this.warn("Problem in analytics initial code snippet: {1}",t)}this.on(this.$domNodes.parent.find("a, button"),"click",function(t){var e=u(t.target);o.triggerAnalyticsEvent(o.currentSectionName,"click",e.text(),t.data||{},e.attr("website-analytics-value")||1)})}return this}}]),t}(u.Tools["class"]);p._name="Website",t["default"]=p,u.Website=function(){return u.Tools().controller(p,arguments)},u.Website["class"]=p},function(o,t){},function(t,e){t.exports=o},function(o,e){o.exports=t},function(o,t){o.exports=e},function(o,t){o.exports=n}])});